<!DOCTYPE html>
<html lang="tr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>RemBG ile Arka Plan KaldÄ±r</title>
        <link rel="stylesheet" href="../../styles.css">
        <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link rel="icon" type="image/png" href="../../img/favicon.png">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" rel="stylesheet" />
    </head>
</head>
<body>
    <canvas id="matrix"></canvas>
    <header>
        <nav>
            <div class="menu-icon" id="menu-icon">
                &#9776;
            </div>
            <ul id="nav-ul">       
                <li><a href="https://le1denfrost.github.io//index.html">Ana Sayfa</a></li>
                <li><a href="../blog.html">Blog</a></li>
                <li><a href="../map.html">Harita</a></li>
                <li><a href="https://le1denfrost.github.io/pages/support.html">Destek Ol</a></li>
            </ul>
            <div class="right-menu">
                <div id="google_translate_element" style="display: none;"></div>
                <i id= "custom_translate_icon" class="fa-solid fa-earth-americas" aria-hidden="true" style="cursor: pointer;"></i>
                <script type="text/javascript">
                    function googleTranslateElementInit() {
                    new google.translate.TranslateElement({
                        pageLanguage: 'tr',
                        includedLanguages: 'en,fr,de,es,it',
                        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
                    }, 'google_translate_element');
                }
                </script>
                <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
                <a href="#search" class="search-icon"><i class="fas fa-search"></i></a>
                <a href="https://www.youtube.com/@Artificial_Man666" class="subscribe-button">Abone Ol</a>
           </div>     
        </nav>
    </header>
    <div class="content">
        <article>
            <h1>ğŸŒ„RemBG ile Arka Plan KaldÄ±rma AracÄ± Tasarla ! </h1>
            <p>Bu rehberde, Pillow ve rembg kÃ¼tÃ¼phanesini kullanarak basit ve etkili bir arka plan kaldÄ±rma uygulamasÄ±nÄ± nasÄ±l oluÅŸturacaÄŸÄ±mÄ±zÄ± Ã¶ÄŸreneceÄŸiz.
            Python ile GUI tabanlÄ± bir uygulama tasarlarken Pyqt6 kÃ¼tÃ¼phanesini kullanÄ±yorum. Qt Designer ile kolayca tasarlanabiliyor ve geniÅŸ Ã¶zellikler iÃ§eriyor.
Siz dilerseniz bir konsol uygulamasÄ± veya Tkinter gibi alternatif GUI kÃ¼tÃ¼phanelerini tercih edebilirsiniz."
            </p>
            <section class="blog-post">
                <h2>1. Gereksinimler ve Kurulum</h2>
                <h3>1.1. Gerekli KÃ¼tÃ¼phaneler</h3>
                <p>Ã–ncelikle, gerekli kÃ¼tÃ¼phaneleri kurmamÄ±z gerekiyor. Bu proje iÃ§in PyQt6, Pillow ve rembg kÃ¼tÃ¼phanelerine ihtiyacÄ±mÄ±z var. AÅŸaÄŸÄ±daki komutlarla bu kÃ¼tÃ¼phaneleri kurabilirsiniz:</p>
                <div class="code-container">
                    <button class="copy-button" onclick="copyCode(this, 'code-block-1')">Kodu kopyala</button>
                    <pre><code class="language-bash" id="code-block-1">
pip install pyqt6 pillow rembg
                        </code></pre></div>
                <h3>1.2. Proje YapÄ±sÄ±</h3>
                <p>Proje klasÃ¶rÃ¼mÃ¼zÃ¼n yapÄ±sÄ± bu ÅŸekilde olacak :</p>
                <div class="code-container">
                    <pre><code class="language-css" id="code-block-2">
background_remover/
â”‚
â”œâ”€â”€ main.py
â”œâ”€â”€ img/
â”‚   â”œâ”€â”€ upload_image.jpg
â”‚   â””â”€â”€ output.png
â””â”€â”€ app_icon.png               
                    </code></pre></div>     
                
                <a href="https://ibb.co/pbF2wYV">app_icon.png</a> <br>
                <a href="https://ibb.co/WNXr0rk">upload_image.jpg</a>        


                <h2>2. PyQt6 ile ArayÃ¼zÃ¼ OluÅŸturma</h2>
                <h3>2.1. Temel ArayÃ¼z</h3>
                <p>PyQt6 kullanarak arayÃ¼zÃ¼mÃ¼zÃ¼ oluÅŸturacaÄŸÄ±z. "main.py" dosyamÄ±za kÃ¼tÃ¼phaneleri Ã§aÄŸÄ±rmakla baÅŸlayalÄ±m :</p>
                <div class="code-container">
                    <button class="copy-button" onclick="copyCode(this, 'code-block-3')">Kodu kopyala</button>
                    <pre><code class="language-python" id="code-block-3">
from PyQt6 import QtCore, QtGui, QtWidgets
from PIL import Image
import rembg
from PyQt6.QtWidgets import QMessageBox
import os           
                    </code></pre></div>
                
                <h3>2.2. ArayÃ¼z ElemanlarÄ±</h3>
                <p>Åimdi, arayÃ¼z elemanlarÄ±mÄ±zÄ± ve temel yapÄ±landÄ±rmamÄ±zÄ± ekleyelim :</p>
                <div class="code-container">
                    <button class="copy-button" onclick="copyCode(this, 'code-block-4')">Kodu kopyala</button>
                    <pre><code class="language-python" id="code-block-4">
class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(949, 550)
        MainWindow.setFixedSize(949, 550)
        self.centralwidget = QtWidgets.QWidget(parent=MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        palette = QtGui.QPalette()
        palette.setColor(QtGui.QPalette.ColorRole.Window, QtGui.QColor(0, 0, 0))
        palette.setColor(QtGui.QPalette.ColorRole.WindowText, QtGui.QColor(255, 255, 255))
        MainWindow.setPalette(palette)
        icon = QtGui.QIcon("app_icon.png")
        MainWindow.setWindowIcon(icon)
        self.label_1 = QtWidgets.QLabel(self.centralwidget)
        self.label_1.setGeometry(QtCore.QRect(10, 10, 411, 481))
        self.label_1.setObjectName("label_1")
        self.label_1.setScaledContents(False)
        self.label_1.setAlignment(QtCore.Qt.AlignmentFlag.AlignCenter)
        self.label_1.setFrameShape(QtWidgets.QFrame.Shape.Box)
        self.label_1.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.label_1.setStyleSheet("border: 2px solid black;")
        self.label_1.mousePressEvent = self.load_image
        self.label_2 = QtWidgets.QLabel(self.centralwidget)
        self.label_2.setGeometry(QtCore.QRect(490, 10, 451, 481))
        self.label_2.setObjectName("label_2")
        self.label_2.setScaledContents(False)
        self.label_2.setAlignment(QtCore.Qt.AlignmentFlag.AlignCenter)
        self.label_2.setFrameShape(QtWidgets.QFrame.Shape.Box)
        self.label_2.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.label_2.setStyleSheet("border: 2px solid black;")
        self.pushButton = QtWidgets.QPushButton(self.centralwidget)
        self.pushButton.setGeometry(QtCore.QRect(430, 160, 51, 41))
        self.pushButton.setObjectName("pushButton")
        self.pushButton.setStyleSheet("background-color: #4CAF50; color: white; border: 1px solid #4CAF50; border-radius: 5px;")
        self.pushButton.clicked.connect(self.crop_image)
        self.pushButton_2 = QtWidgets.QPushButton(self.centralwidget)
        self.pushButton_2.setGeometry(QtCore.QRect(430, 210, 51, 41))
        self.pushButton_2.setObjectName("pushButton_2")
        self.pushButton_2.setStyleSheet("background-color: #4CAF50; color: white; border: 1px solid #4CAF50; border-radius: 5px;")
        self.pushButton_2.clicked.connect(self.save_image)
        self.pushButton_3 = QtWidgets.QPushButton(self.centralwidget)
        self.pushButton_3.setGeometry(QtCore.QRect(430, 260, 51, 41))
        self.pushButton_3.setObjectName("pushButton_3")
        self.pushButton_3.setStyleSheet("background-color: #4CAF50; color: white; border: 1px solid #4CAF50; border-radius: 5px;")
        self.pushButton_3.clicked.connect(MainWindow.close)
        self.progressBar = QtWidgets.QProgressBar(self.centralwidget)
        self.progressBar.setGeometry(QtCore.QRect(10, 500, 931, 23))
        self.progressBar.setProperty("value", 0)
        self.progressBar.setObjectName("progressBar")
        MainWindow.setCentralWidget(self.centralwidget)
        self.statusbar = QtWidgets.QStatusBar(parent=MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)
        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)
        self.crop_completion_signal = QtCore.pyqtSignal()
        self.control_key = 0
        self.started_image = QtGui.QPixmap('img/upload_image.jpg')
        self.label_1.setPixmap(self.started_image)
        self.remove_bg_thread = RemoveBackgroundThread('', '')
        self.remove_bg_thread.error_signal.connect(self.show_error_dialog)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "le1denfrost Background Remover"))
        self.pushButton.setText(_translate("MainWindow", "KÄ±rp"))
        self.pushButton_2.setText(_translate("MainWindow", "Kaydet"))
        self.pushButton_3.setText(_translate("MainWindow", "Ã‡Ä±kÄ±ÅŸ"))
                    </code></pre></div>
                
                <h2>3. Arka Plan KaldÄ±rma Ä°ÅŸlemi</h2>
                <h3>3.1. Ä°ÅŸ ParÃ§acÄ±ÄŸÄ± (Thread) OluÅŸturma</h3>
                <p>Arka plan kaldÄ±rma iÅŸlemi uzun sÃ¼rebileceÄŸi iÃ§in bu iÅŸlemi ayrÄ± bir iÅŸ parÃ§acÄ±ÄŸÄ±nda gerÃ§ekleÅŸtireceÄŸiz. 
                   Ä°ÅŸ parÃ§acÄ±ÄŸÄ±nÄ± oluÅŸturmak iÃ§in "RemoveBackgroundThread" sÄ±nÄ±fÄ±nÄ± tanÄ±mlayalÄ±m :</p>
                <div class="code-container">
                    <button class="copy-button" onclick="copyCode(this, 'code-block-5')">Kodu kopyala</button>
                    <pre><code class="language-python" id="code-block-5">
class RemoveBackgroundThread(QtCore.QThread):
    progress_changed = QtCore.pyqtSignal(int)
    crop_completion_signal = QtCore.pyqtSignal()
    error_signal = QtCore.pyqtSignal(str)

    def __init__(self, input_path, output_path):
        super().__init__()
        self.input_path = input_path
        self.output_path = os.path.join('img', output_path)

    def run(self):
        try:
            if os.path.exists(self.output_path):
                os.remove(self.output_path)
            with Image.open(self.input_path) as img:
                img = img.convert("RGBA")
                output = rembg.remove(img)
                output = output.resize(img.size, Image.LANCZOS)
                final_output = Image.new("RGBA", img.size, (0, 0, 0, 0))
                final_output.paste(output, (0, 0), output)
                final_output.save(self.output_path)
                progress_value = 0
                while progress_value < 100:
                    progress_value += 1
                    self.progress_changed.emit(progress_value)
                    QtCore.QThread.msleep(50)
                self.progress_changed.emit(100)
            self.crop_completion_signal.emit()
        except Exception as e:
            self.error_signal.emit(f"Hata oluÅŸtu: {str(e)}")
                    </code></pre></div>
                
                <h3>3.2. Ä°ÅŸlevleri BaÄŸlama</h3>
                <p>Åimdi arayÃ¼z elemanlarÄ±nÄ± tanÄ±mladÄ±ÄŸÄ±mÄ±z ana sÄ±nÄ±fÄ±mÄ±zÄ±n altÄ±na ("Ui_MainWindow") iÅŸ parÃ§acÄ±ÄŸÄ±nÄ± baÅŸlatacak ve ilerleme Ã§ubuÄŸunu gÃ¼ncelleyecek iÅŸlevleri tanÄ±mlayalÄ±m :</p>
                <div class="code-container">
                    <button class="copy-button" onclick="copyCode(this, 'code-block-6')">Kodu kopyala</button>
                    <pre><code class="language-python" id="code-block-6">
def load_image(self, event):
    file_dialog = QtWidgets.QFileDialog()
    self.file_path, _ = file_dialog.getOpenFileName(parent=None, caption="Resim SeÃ§", directory="",
                                                    filter="Resim DosyalarÄ± (*.png *.jpg *.bmp *.jpeg)")
    if self.file_path:
        original_image = QtGui.QPixmap(self.file_path)
        scaled_image = original_image.scaled(self.label_1.size(), QtCore.Qt.AspectRatioMode.KeepAspectRatio, QtCore.Qt.TransformationMode.SmoothTransformation)
        self.label_1.setPixmap(scaled_image)

    if self.control_key == 1:
        self.label_2.clear()

    if not self.file_path:
        self.label_1.setPixmap(self.started_image)
    self.control_key = 1

def update_progress(self, value):
    self.progressBar.setValue(value)

def show_cropped_image(self):
    result_image = QtGui.QPixmap('img/output.png')
    scaled_image = result_image.scaled(self.label_2.size(), QtCore.Qt.AspectRatioMode.KeepAspectRatio, QtCore.Qt.TransformationMode.SmoothTransformation)
    self.label_2.setPixmap(scaled_image)

def crop_image(self):
    try:
        if not hasattr(self, 'file_path') or not self.file_path:
            self.show_error_dialog("LÃ¼tfen Ã¶nce bir resim seÃ§in.")
            return
        self.remove_bg_thread = RemoveBackgroundThread(self.file_path, 'output.png')
        self.remove_bg_thread.progress_changed.connect(self.update_progress)
        self.remove_bg_thread.crop_completion_signal.connect(self.enable_save_button)
        self.remove_bg_thread.finished.connect(self.show_cropped_image)
        self.remove_bg_thread.start()
    except Exception as e:
        self.show_error_dialog(f"Hata oluÅŸtu: {str(e)}")

def enable_save_button(self):
    self.pushButton_2.setEnabled(True)
                    </code></pre></div>
                
                <h2>4. Resmi Kaydetme ve Hata YÃ¶netimi</h2>
                <h3>4.1. Resmi Kaydetme</h3>
                <p>KullanÄ±cÄ±nÄ±n kÄ±rpÄ±lmÄ±ÅŸ resmi kaydedebilmesi iÃ§in ana sÄ±nÄ±fÄ±n altÄ±na bir iÅŸlev ekleyelim :</p>
                <div class="code-container">
                    <button class="copy-button" onclick="copyCode(this, 'code-block-7')">Kodu kopyala</button>
                    <pre><code class="language-python" id="code-block-7">
def save_image(self):
    try:
        if not hasattr(self, 'file_path') or not self.file_path or not os.path.exists('img/output.png'):
            self.show_error_dialog("LÃ¼tfen Ã¶nce bir resmi kÄ±rpÄ±n.")
            return
        file_dialog = QtWidgets.QFileDialog()
        file_path, _ = file_dialog.getSaveFileName(parent=None, caption="Resmi Kaydet", directory="",
                                                    filter="PNG DosyalarÄ± (*.png)")

        if file_path:
            result_image = QtGui.QPixmap('img/output.png')
            result_image.save(file_path, "PNG")
            QMessageBox.information(None, "BaÅŸarÄ±", "Kaydetme iÅŸlemi tamamlandÄ±.")
            self.label_1.setPixmap(self.started_image)
            self.label_2.clear()
            os.remove('img/output.png')
            self.file_path = ""
    except Exception as e:
        self.show_error_dialog(f"Hata oluÅŸtu: {str(e)}")
                    </code></pre></div>
                <h3>4.2. Hata YÃ¶netimi</h3>
                <p>KullanÄ±cÄ±ya hatalarÄ± gÃ¶stermek iÃ§in ana sÄ±nÄ±fÄ±n altÄ±na bir hata diyalogu ekleyelim :</p>
                <div class="code-container">
                    <button class="copy-button" onclick="copyCode(this, 'code-block-8')">Kodu kopyala</button>
                    <pre><code class="language-python" id="code-block-8">
def show_error_dialog(self, message):
    QMessageBox.critical(None, "Hata", message)
                    </code></pre></div>
                <h2>5. UygulamayÄ± Ã‡alÄ±ÅŸtÄ±rma</h2>
                <p>Son olarak, ana uygulamayÄ± Ã§alÄ±ÅŸtÄ±rmak iÃ§in "main.py" dosyasÄ±nÄ±n sonuna aÅŸaÄŸÄ±daki kodu ekleyelim :</p>
                <div class="code-container">
                    <button class="copy-button" onclick="copyCode(this, 'code-block-9')">Kodu kopyala</button>
                    <pre><code class="language-python" id="code-block-9">
if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec())
                    </code></pre></div>  
                
                <h2>SonuÃ§</h2>
                <img src="./Screenshot_1.jpg" alt="" class="blog-image">
                <p>
                    RemBG ve Pillow kÃ¼tÃ¼phanelerini kullanarak bir arka plan kaldÄ±rma uygulamasÄ± oluÅŸturmayÄ± Ã¶ÄŸrenmiÅŸ olduk. UygulamayÄ± geliÅŸtirirken birkaÃ§ Ã¶nemli noktaya deÄŸindik : <br><br>
                    Thread (Ä°ÅŸ ParÃ§acÄ±ÄŸÄ±) KullanÄ±mÄ±  <br>
                    UygulamamÄ±zda, arka plan kaldÄ±rma iÅŸlemi zaman alabileceÄŸinden ve bu iÅŸlemin ana iÅŸ parÃ§acÄ±ÄŸÄ±nÄ± engelleyip uygulamanÄ±n donmasÄ±na neden olabileceÄŸinden, arka plan kaldÄ±rma iÅŸlemlerini iÅŸ parÃ§acÄ±ÄŸÄ±nda (thread) gerÃ§ekleÅŸtirdik. Ä°ÅŸ parÃ§acÄ±klarÄ±, uzun sÃ¼ren iÅŸlemleri arka planda Ã§alÄ±ÅŸtÄ±rarak kullanÄ±cÄ± arayÃ¼zÃ¼nÃ¼n (UI) tepkisel kalmasÄ±nÄ± saÄŸlar.<br><br>
                    Sinyallerin Ã–nemi <br>
                    PyQt6'da sinyaller, iÅŸ parÃ§acÄ±klarÄ± arasÄ±ndaki iletiÅŸimi ve arayÃ¼zÃ¼n gÃ¼ncellenmesini saÄŸlamak iÃ§in kullanÄ±lÄ±r. Ã–rneÄŸin, iÅŸlem ilerlemesini kullanÄ±cÄ±ya gÃ¶stermek iÃ§in progress_changed sinyalini kullandÄ±k ve iÅŸ parÃ§acÄ±ÄŸÄ± tamamlandÄ±ÄŸÄ±nda crop_completion_signal sinyalini kullanarak UI'yi gÃ¼ncelledik. Sinyaller, GUI uygulamalarÄ±nda olaylarÄ±n ve durum deÄŸiÅŸikliklerinin iÅŸlenmesi iÃ§in gÃ¼Ã§lÃ¼ bir mekanizma sunar.<br><br>
                    Hata YÃ¶netimi <br>
                    Uygulamada kullanÄ±cÄ± deneyimini iyileÅŸtirmek iÃ§in hata yÃ¶netimine de Ã¶nem verdik. Herhangi bir hata oluÅŸtuÄŸunda kullanÄ±cÄ±ya bilgilendirici hata mesajlarÄ± gÃ¶stererek, kullanÄ±cÄ±larÄ±n neyin yanlÄ±ÅŸ gittiÄŸini anlamalarÄ±nÄ± saÄŸladÄ±k.<br>
                </p>
                
            </section>
        </article>
        <div id="disqus_thread"></div>

            <script>
                (function() {
                var d = document, s = d.createElement('script');
                s.src = 'https://le1denfrost.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
            </script>
    </div>
    <div id="search-modal" class="search-modal">
            <div class="search-modal-content">
                <span class="close-button">&times;</span>
                <input type="text" id="search-input" placeholder="Blog yazÄ±larÄ±nda ara...">
                <ul id="search-results"></ul>
            </div>
    </div> 

    <div id="menu-modal" class="menu-modal" style="display: none;">
        <div class="menu-modal-content">
            <span class="close-menu-button">&times;</span>
            <ul>
                <li><a href="../../index.html">Ana Sayfa</a></li>
                <li><a href="../blog.html">Blog</a></li>
                <li><a href="../map.html">Harita</a></li>
                <li><a href="../support.html">Destek Ol</a></li>
            </ul>
        </div>
    </div>
    <script src="../../script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-python.min.js"></script>
</body>
</html>
